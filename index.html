@echo off
title Panel de Control Remoto Firebase - MDMLOOK
setlocal enabledelayedexpansion

:: =====================================================
:: CONFIGURACION - PEGA AQUI TUS DATOS DE FIREBASE
:: =====================================================
set "SERVER_KEY=TU_CLAVE_DE_SERVIDOR_AQUI"
set "DEVICE_TOKEN=fBH4CRDxSG2ysqX6FXTrD6_APA91bEBAGmQvu6aU-Ys-akjArvyLVfS0nYOj8cu3GuyRwOKAE2DAv-VreoT6AY55LisKaO6-_k3KyWXpa4vr1FWwoM96DfcsjI7QlSQuVr6PAAYofOXgqc"
:: =====================================================

:menu
cls
echo =====================================================
echo    PANEL DE CONTROL REMOTO (FCM) - MDMLOOK
echo =====================================================
echo.
echo  1. BLOQUEAR DISPOSITIVO (lock)
echo  2. DESBLOQUEAR DISPOSITIVO (unlock)
echo  3. CONFIGURAR CLAVE Y TOKEN
echo  4. SALIR
echo.
set /p opt="Seleccione una opcion: "

if "%opt%"=="1" goto lock
if "%opt%"=="2" goto unlock
if "%opt%"=="3" goto config
if "%opt%"=="4" exit

:lock
echo.
echo Enviando orden de BLOQUEO...
curl -X POST -H "Authorization: key=%SERVER_KEY%" -H "Content-Type: application/json" -d "{\"to\": \"%DEVICE_TOKEN%\", \"data\": {\"action\": \"lock\"}, \"priority\": \"high\"}" https://fcm.googleapis.com/fcm/send
echo.
echo Presione una tecla para volver al menu...
pause > nul
goto menu

:unlock
echo.
echo Enviando orden de DESBLOQUEO...
curl -X POST -H "Authorization: key=%SERVER_KEY%" -H "Content-Type: application/json" -d "{\"to\": \"%DEVICE_TOKEN%\", \"data\": {\"action\": \"unlock\"}, \"priority\": \"high\"}" https://fcm.googleapis.com/fcm/send
echo.
echo Presione una tecla para volver al menu...
pause > nul
goto menu

:config
cls
echo =====================================================
echo        CONFIGURACION DE CREDENCIALES
echo =====================================================
echo.
set /p SERVER_KEY="1. Pegue su Server Key de Firebase: "
echo.
set /p DEVICE_TOKEN="2. Pegue el Token del Celular (Logcat): "
echo.
echo Guardado temporalmente.
pause
goto menu

